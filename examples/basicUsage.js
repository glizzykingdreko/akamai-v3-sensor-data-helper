const decryptor = require('akamai-v3-sensor-data-helper');
const fs = require('fs');

// Example sensor data (replace with your actual sensor data)
const sensorData = '{"sensor_data":"3;0;1;0;3289904;RJkosvXi575tMcjPV6NwwIpNUyXrpfvzRnPaSi2qUN4=;19,1895,0,0,8,495;rP#lYa\\"mZ$\\"sCm,5\\"6PL\\"?\\"!?Ht>Q<EMhTa^N[  w.gDR6MevU[nm|RUcg1GH3 r-oFy@P`.scT`\\")\\"6*g\\"U\\"zCp;/z)1.v\\"$\\"-29\\"!\\"\\"]\\"N1!\\"@G[\\"q<o\\"5Z%Agz|0w\\"zd(}\\"}\\"G^j}kS+NGIdv7gG{]xOj}{p>heTis;J#4^j&`j;hcXy.u5zM=kG[|(%R#0z(4n}Wj:Fwhf9irq<WDcV3qM$Hks![--)IW.a\\"J\\"}%6\\"<\\"EW$E]&l@-Lq2eiTLq\\"~2C\\"yM{SX/y\\"f2R\\"KklF7zbFz\\"kt\\":\\"\\"}[[\\"WF~\\"?\\"zZBr860 =tC{{u?oHJ&#MMg[$5jI(Z8:qs+g*ac=+o;\\"|q_\\"u#3\\":Lh:b@u^\\"{5\\"R\\"e~5c>\\"$&$\\"na]\\"AP}AKZt#:\\"Z@|\\"k\\"sTS=d4bxxn#j~/F+!Juka g1:O9~s{wu0r:976LFKoUb8oiDQLv}t+a@f|o1niP3Z.stuCC&(bpdx%,)H:fy*k!7EQ:?zI!}Apr{V-(bTV+-PY0)zZ$6?\\".-b\\"AKY\\"j\\")\\"Zr9\\"ekr\\"f\\"4\\"RQE\\"KSc\\"M;u$h\\"uif\\"d4P]Aq%z58ir\\"ISh[\\"Oak?15++ 62\\"yt(\\"{0zc_Y++\\"w-T\\"=M kx\\"rES\\"-\\"{.`rh\\"m<J\\"`--\\"4p*YvM;_-\\";ZN%S\\"{\\";9^_dQ-R$tUv|JlKtIn6MZQMt:+k!)EJv1\\"H\\"1oK\\">\\">D(\\"+\\"p.x\\"na=u8\\"~)$\\"<\\"\\"#4B\\"w>y\\"@\\"i\\"iPz\\".Ql\\"`V~+MV\\"r;a =n{4C\\"T/+\\"J]C\\"/\\"BsZq9BHxLTUj#c\\"7f(\\"YD\\"S)3Ds-}NCb`.\\"1WWk\\"Kz4\\"f8l\\"<ht& +@z&}]j\\"5!X^$zW\\"Z\\"K)5Fd%Y%s;z5[sxs\\"a\\"0aC\\"F(-F@ew\\"5m_h}OnN!fD)E\\" \\"cOl\\",_X;9q%Y\\"oRp\\"K\\"\\"P\\"8sG\\"J >))\\"+v1\\"f*uri\\"^KR\\"3\\"hRMf%Y2%^S~$S7DeMU{-y]QOVUcZZ41H{`i/:,cI*}p`:vCcZT|E5x||6)=?:%p;lpl3^G kbZCGy`+OXV&OR)7:[Wbo#gl6bg[9]F/3|sstS8o0AR&NC.QQis?:HI?sFLP9eW2<|01-~j>n&5j;F2Sbw)LLoejJ(94uSG!70AET/3T>NaB%0tGWy*[f-,0eDirW+5!8$<AXG;(_vAr_fj*9i*Pg*-B~x}A&no_}{>/VEW)|9NC%7=c#[!Kk/;<;%H_Q?<<OW{&=C]0}DiJL`b?[4I5X(&P>0YroEb`$0_m5&B6)Haj]v2_(Z.e:j&529K&sfv{Ab;;kl!rt:mkm,0}G)N?cJm}(qI }t1;o#Ef8F`Y[&bb_$J&MDsj7r%g^h4sqm2?s*lyZn32.r7GRu1&^I3yP,Z)/>qWda#@l9p8g2MHb@w,+i%rZN&,g@tSZhQ98Ap2a)pC!Cnq#bPZm@wbGF,(fR(Xm,wRloEiQzp;{Gn%2!^~9~K;(#{z]R4l)L6#+<p>*gP$t1{/J/v@dMtwXjT[GK~d+B?7NTFi_B(mU%b#<4 UlO<7.1&4=3rZwD29^v[/%aYH3gPf98!Nh^;VF_XvY^RAo3>:S)iD0{ud[C~G o|JjXSca{r*$7zyH,*)YlqK>$<|#lVuOTR1b^K`j})LN[MP-a[c8nS>BFA98zwEt(2rQQ<XU{(K`xpnK{;M$MO.>6=?B7$aDPa?|x(>Og0Wh&w-SDRfU$-u1y5?H/9iXy&hDMKs.[w>ev{8vXs-vY^MYZu!C@?}`w7 rn+Fk>W)>tj(}f(>*dy!6:a`//,tW#2-*:Iu)e1q7Ob#ur1Q0-3:Wp.@YQoYLi65,R_&M,T7e4LgcR#RA~CNvuHg96I89^)*&IY2_Dt`(]uH+,d<:+=Mq5i%QU}eqDzhp8b:iL9uC{>`jqK%~%6Vx=r.a&>5AlGHV)P/dU/+]FV3-<&R[Xy9h2v9v4PTfCl(6o8x_I~wXGwJOd5~.<]$T|j1s%_`nP<R[3cR;:noQCwNXt`8Rf:K8mC&e3ZdsmWm{P,vloWTB;mPf}hXu}a$e1)VDtPUqkIz7v@E.B=:{{_?Q~zg :o>,sY2#RBGi[Wu>%o`TYWp^].&Ngie%8yE?/&XU2i-WACi8+jjevn%}4uY/QMV}?qUV1> %R>[%-9Z$}Zxk&$BDU;/i!/4h2%S`?<<7r_&V]i=a]Xba+3LY[UU)][j>pbBJ-E39}y=x{2p=B4VU).WPgZX6v5>uC7426-3< !T.7S1p{w(0dmETj_uV8Hb8af_qd/~2 ~_>SdJ0:Igw1Z|AXmoXBRxS04&=Dk[ukhD6Qn`?MO,Av$axCWiJ,XjWFZHiw}=JSNE-EufLUr:P/W1R$)F<+LwlC^Z%%NWv#@!q5R`IerCqMwa Od}sj9a_PWa.BZ}EPlMMm<5?_{Iqb}r@r|QO?#JG9MR0G#2ck~{vPq%(Cb?vV2pM,QpxtB&{w1O$:%5dp?(2rRP^ ?(XT yN=`2)0mMSV|*^2]9bz;MO2m|+IvZ<@ypG-U2BW(o}#VqQgRxQrQPU<o<?}=<ym`U7!W0>ZJ~2Ad=qI%f=^DBb0}5X/lVDA,>ro7*6SI0AI~R9ua/%Lz7J;yK[D*r`gR`FI1m,L/0Oa)eH*+gMpOf+  =_Fy~yzg~rxeC`}}k<S;dc79 rB!Bd]b0Q9vxr,8<,3 xBk]d#M:rhFC(*^Mj9<+a/!b}v13FMO8-d66:d7mbP;:93we3WL^2mhW`g&$RQ`KJyYjmAUN/=0<(8oc;gx}[A7*AOdp<:bYU.^t#[/{u{f+&!mm1l*:tOcPr(GK~6LTP5j-6mKS<IQ^cmeT2t-A-ess3Eq0bp<6K-n~C3`g_kp/0JEE nx?4w#%Le@`3Piq$tZ/@~cqr++KUus#^Jf)wm|0Uo[vRi>LgMAv:#_wt-Dr{0GF;~Onhbo6[ [+a*g ;%%Gqcckq=F(0]TeUK|OHH^qQ|k+zEvAYNArJL@X^2<n3To#{rJ{{s>U<^R0xG,;^ffFtqr/Iy+d#W_2!9i8CGo9v=:obG$GllyR==Jj~SmRmG`%,:yM`l8X=xsdL4{8r{.`Hd_8=yI(Y3L}!9ubh&[+cJI/$`S4em-eZ`u?gR!d&w2og*nWmwW@(qnS`?8pFj hKk Vrf=!P2cKPg_Ca{`C/}*|wnc>vD`Q<ZwW!jB3zZ3s{I:2NrQ55#/-/$%tK~?2*J[FsqQF{vI=Hptf+M92/|. C9>*x@ihQ,O7e`FQ|vUN\\".\\"jBb\\"o\\"6>j&}7^iR,)rqMLjm@Srds+8q/{o1&%8oR0cR!@u3TIX\\"@\\"WgR\\"s\\"1,g/>r?hhX\\"^~>R\\"B\\"3qCVb=lfSaDTShS>u_UzB-4%PM{6Yazz%WBOwJ!rev{# 7( UBVfS4=<_m;[\\"6\\"0>6\\"R\\"H#%}-7MX\\"T\\"zR|\\"J\\"\\"A\\"h0M\\"e(3L5v9?<g\\"m#-\\" \\"\\"0\\"5co\\"(4Hn+QyL\\"+;V=\\"x\\"\\"f\\"Y%9\\"&\\"z7ni6qM;Uk={E[?v\\"m\\"aT4\\"x\\"nl4C\\"%\\"!K9\\"!LI#]^\\"F+hG\\"!\\"L\\"4p/\\"u0;\\"Cf$TUxgj:knb6JsS.\\":eQ\\"U\\"N5\\"KS^\\"CL.J\\"SjlzL.6*Q^Ws\\"&wVN\\"_\\"mm(MHp*6!6QR;qfp#b6ix2{5$31-SyvP9NH00ZzS#3_lTQHWARG}#R6QF^^g*)`?\\"+E D\\"2i6#M3U!@M w7P~M>.-sncJ$`x?*k#4i7|D<fLv]j|mX+0nEH8C42~\\"J\\"~F1\\"s\\"d\\"gR4\\"EpZ\\"QD|Me\\"yr\\"?4>vYz\\"\\">\\"d.D\\"#\\"\\">\\"V!\\"Mukf3Q=k}m\\"c {\\"$o2f`V&B)eU8?npE\\"GUW\\"Y\\"\\"KYP\\"QzW\\"%tEuxz?ZR{\\"Mh\\"nM8`.{-V\\"iTn\\"U[j`cF$<zY]n\\"ZiC`.$$A]`6nIU+3{GKk/SSd;`rre*L3m}d{dxhuCBN+\\"bNA\\"R_u\\"(\\"RKI1g|,m\\",%)\\"6(%\\"S\\"o{1|TiWz7Z BR!{*dXl*\\">\\"k6(\\"m!t\\"Cs7\\"f\\"U\\"g3Q\\">Wn\\"b>7Dk7&#\\"0$V_\\">:$m)GB.D4k%\\"eO`+\\"{_QZ~f%\\")\\"6rs\\"~{q\\"Uq{esv/z\\"]:l\\"}$go7\\"K2EI\\"Aga6<\\"&s\\"=\\"+VcnbJ%(0VFs.]5`!V284%Sg;rY]N{O]KF(k9XZCN~kbg@?Ex>XA@#1FM+Q|uK`8\\"zLy\\"3`a\\"@\\"&\\"z@B\\"5x\\"i\\"^.Yi\\"%3^\\"3V?\\"Uz\\"CMz\\"}Fd\\"h?<Tb\\"])j6\\"G\\"!}fCVZ7gX\\"$q]\\".G6\\"u\\"1AY(C0C>^CoIHQN,Be8\\"Y\\"rYe\\"p\\"5b)eSk,2}VR:suc9SUpin$T_iz~ipMpgq%gQM|gEdIB\\"li.\\"xv!\\"cqe8.y%\\"|mZ\\"Z\\"2-\\"+S$\\";|jY\\"O\\"c7)9*\\"sf^\\"R_hP,\\"_\\"\\"-7N\\"Vs \\"(fW3zB]]U\\"8&z\\"G\\"\\"d\\"O7)\\"YV@z3\\"BD<\\"W\\"%g<bnq>ukgwk*3FKhLF PSZ7ZM/1$0~$[Z(]_jJ#rj+&CRu 43:eJRY/`j@A?V?L0+_CRZ4v}v&4lt=HdgaE$CR,TZHVNhl\\"Y\\"kYx\\"39e\\"j$P\\"]\\"\\"t^s\\"`vP\\"cAVEY`0VY=0:LEI1Da=JgZ\\"8\\"5xu\\"wU.ut_MlGho"}';

// Read the input.js file (replace with your actual input.js path)
const fileContent = fs.readFileSync('./akamaiScript.js', 'utf-8');

// Decrypt the sensor data
const result = decryptor.decrypt(sensorData, fileContent);

if (result.success) {
    console.log('Decryption successful!');
    console.log('Decrypted data:', JSON.stringify(result.data, null, 2));
} else {
    console.error('Decryption failed:', result.message);
} 