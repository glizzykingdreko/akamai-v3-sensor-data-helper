const decryptor = require('akamai-v3-sensor-data-helper');
const fs = require('fs');

// Example sensor data (replace with your actual sensor data)
const sensorData = '{"sensor_data":"3;0;1;0;3753014;wS5KmeE4vP5vBcKRIM2pPQlq4qZivf0B53dgMqmUH4E=;141659,18,0,5895,544,33;>\\"6>;\\"*9zEL4{\\"\\"_\\"wv4\\" \\"\\"G\\"<E,\\")\\"ae(QI\\"-Z8\\"dh&\\"i\\"+09^T.,%\u0021P#HZ^?1aUq&L_@qoY_]tc/G]WFs|ylA[DDh}~x}hWG@FJ.Gtmy{@Ebb|maZGTbCgyqteobnKGrQZ^Civq-/G_(2VH?yad >4*vir&gaUiX97D0bqe,<dlAMqnqV:RcHy|d%\u0021?1G6,mPexkJOWu5muN`<n N=Tp&g_VfdOfy% sRs\u0021IrP|OR5li<Z)jVrs_N=l@Y2..AX1xaz77~\u0021G,^DfGS,>H@W|I;{k_yvNR1S+li4sk#e)XxSB.M%/KB=sB$Nk{>d~Z-+G02^.-.Qb/]@yc.`{H5GrN@8K^;R\u0021<lp-$,U7(%Sy^)vI%pKo)*6t@MJmsV4v?mB3K=w{\\"#\\"dY(\\"CAh\\"BjjlR&\\"j=]3\\"gyLi;;?*a[m>\\"Ex}I\\"O\\"\\"+@:\\"Hmb\\"%\\"v\\"t@}\\"?t\\"<\\"\\"9\\"9e_\\"\u0021`Q Wm(p_duBlL_bw\\"kBb\\"zqrgk\\"lbf\\"ygR9U{0\\"jm.\\"T3ORs\\"$Wy|\\")B[&&*\\"\\"^\\">3d\\"=\\"\\"@\\"S-]\\"R\\"\u0021EHOa)r;;(ryOIHE0|FUw;g7$v0>OFI ,[Ww(XUPxj_zH`x#-T7Bp3_+6+M`b;\u0021E\\"}4?yHKIi16p\\"[u3\\"j\\"THrXQX,S\\"bwY\\"<&\u0021\\"^$#{g7<0><Vf$*<|z@\\"y}a0\\"(/lrZPu\\"7bsu[/4w=\\"Nr~\\"H25\\"~\\"\\"R:|\\"kT|\\"9%{R7?O@xipt\\"<]$2\\"tBF\\"41)\\"(er\\"ph1\\"5lB_m\\"(/\\"}/bpKZgv \\">cxP^\\"`__$v\\"f%e\\"-\\"XTPb8a}@a\u0021a |LJo\\"<\\"bd$\\"uz~.+\\"L]<$\\"Y\\"[0e,jBqd1m\\" <\\"C\\"\\"ey5\\"^Iu\\"p\\"\\">ma\\"/X-\\"k|`s0##T|RNS\\"w:Ln\\"j\\"{8t1.&E/d$t0ytk\u0021OAKsP:oi9*Qz6wQ\u0021q16f:rh6po5a|~XuY08`//4D@2bUzPewv%J/TZ*N8=+O:~T5,VaGz:?&Y@f?bYp@GB$_o~We/{lQ]03n9RY={\\"sUb\\"ZIc\\"5\\".T-sY\\"4[U0&pzI>vKYrk\\"Z\\"z8 \\"c.i`Gp\\"XqzDEiGt^\u0021g7XO{;J=ecK#qZRzE<k9k9(rXuOA7vqHhD\\"s\\"Nvi\\"FH+45[`V=n<i.%x51-Vf\u0021-}xqc\\"/JjpP,C\\",uDKt\\"@}B\\"&\\"9\\"<7+\\"1\u00210\\"[\\"2\\"t\u0021l\\"F/n\\"tfV}[^C[_g\\"X\\"p%,\\"e\\"$- s\\"ale\\"E1q\\"\u0021%\\"]L-\\"u%~\\"[E09-Fv\\"9K:\\"b\\"2.v\\"M\\"\\"*\\"n^V\\"@gx_5aqY 3hMu#3C-pO|bN~7_i_ksxZX0Xz%gWDjE\u00212V%qDEQId(?}\\"n\\"KDq\\"=#{B(3wW,8)\\"e$H\\"K\\"zz;U2]9hztZ$1>iLl:,Lvra^I9,{{ym^Ew9HD-UR4]\\"{EE\\"VU1\\"z\\"#c%6SvYpOq?GjMSw3$z|{HSp1EBUG5^:{s<K{;{F6@v4I;Gc1.n)7`f8I|\u0021-~wM~|l0D0\\"*\\"/D2\\"4\u0021x7b[}-3eo\\"Mp \\"kg5_lg.P(S< [~kt\\"7I0\\"vls4S\\"AU\\"w\\",*c7FRx?~LC%kC1F\u0021\\"~\\" ($\\"/\\">5RH6\\"6?v\\"V];N]\\"GGa\\"n2 v\\"?>g\\"%>.\\"e,[ 9GN\\"mk2\\"]Ex\u0021bk4,U\\"&</\\"OV E2YJjBt8\\"H-~.\\"Nun0=}V>*c OR\\"4<=\\"o^*aN$\\"z7k\\"S]~9%m)\\"<.vX~qO+n\\"`\u0021L\\"a?~\\"{Ap6E\\"v7\u0021\\"[HLNLT;?y\\"h+\\"Qr(?&e$lUG|^~M}/K\\"RA\\"[\\"rxyvaZo>F<s,sLE\u00213{hO\\"C\\"L_{\\"rJU-R|&}=w\\"(GW\\"T\u0021k=B1/~pW<\\"(,0\\"_P?3)~\\"16\\"53_\\"03h:\\">\\"{1\\"yeI\\"CCRF\\";\\":\\"]x&\\":?+\\"l\\"%[,\u0021u*&0z)qzJx-F#nhU}}Pa?;UJ[>.5E/^lLOPkhvtrHyC[Bx)1Ma(Ay}GS_?6>[Mx}z3-VQ_`_C-FgK,?Gj{ex^q24K3\u0021GoQ592Pfy}ABI/s3QJ<Re&?{Q/>m|<&|8[S6RUv\u00215Vpr|if ^H5N^:aAqH_FUlbW2YWECRw-`a1>HA7b33(Ji1^In_ f|6=*eAB):Sy>ewJ[joj=chl2X7RL s;v6ReW5jje9/p*i Ui//%a18Dl4vJFkp?(<rz(c:J>`yT ]{Ua.7;s`bhHb[+-WX?wJ%-Dzldj<Q9[C`EY7;G1pv1l4x_aHQ#{>z-I2t*1O~e8oJ5T04D}y->}NT7$|#eT9n0N+)1>uA1aK*_9ow5&m2Z6h^SV@P9>tNk<|j0N-c>weG;gOc{l^%P<eq[grshcF/Svig8;1]L~+dc7r8SL>p6.b{ax|7w$sY,WPBv8{VG<3mmM4Jz(x]}pMaU#)7.F|yJ$$~W*hDE\u0021;v~dFtE<K RO<W`zt:,M71iDNUvLM-,{ % ^Z(VbpTz) -=[m#/PDE{U`sF~pYlZefxcS/b{(l=EC_g<M{*28CwYw$h332A=N?^HG-`#8 Rjg\u00214_)Jg*((kRq.mQ^SWg\u0021})3.hdh2nWhvGQ6F*,`erRHu&}TeNyq>PcdiR5]-w[j)LnEk?Y)?Q;8_zkUkdy2Za.2<up2acPf}LhR|avTh~\u0021p>^TG^[{1f|4KiE:j8>4Li>nP{e&_ @58v9+.ASz-g}FUtfe3mic1N$QC{hBx%USN0gba%:W{WnFT\u0021t|X0.0S$p6%mY,t;k`jX#85S[A]:i7S q$a@NH.XBvcI<ob+jmudE:I~9f3zF%?hr&ZLZcEre76 #RDwRh~j:X`9S/gStP|ZldYG^yJ&hQXFL(&^>AiXMTk@aQ+r8*M/>UH;U_Q1&jpjdgT;n&FH?Rf@pS.)gN#^y4$$6a;-(tww1uuZGW)%s=O-db43~e8 8^bOv@*tu{}\u0021# )qo-YTOs:|WM/8xxI1I& $O gR_Pt}0*@#|Lw\u0021oHd_H;+\u0021xjLI_+5AvMC-?A^l1#8- J)5Ki6+z%ax]gBDoAIW:h_Zrn;Dmx-~rS+MO.VM9<;S;B<8rDJh:~} 8?h&HMqukK2M^=tjWof&~0uuY%MXH#3.Qk4Ou/JT_5)Ka;svq~(?EhNS.q3U?w69`eOg<Jvy1,l$C5e u37W_nu\u0021mLk9.z(/P{M|^iFGfNAm1z[opBEkn32D.vGqgKg$ZoPxe&_q%}h=lRHZa}3ku3A]QPl:+)L_DeI\u0021h~X|5,6b-9(<8g$Sz5Fb_V$aTQ&B}V6oE&V#JJG&VKJn)>iCa3?mZX/ry|DrDutN@hYlET].`ja.QuE Mn,WPX>y06g{mB9xwMBi6>V4qv|AaKtHjWk@GJ4y++l9,ZaJC0}>o#3*ut1NwL(oD|Al|9zet-e;=u efM=pUe%qW %Vqk-0cElEVdVDgzdA;/3y~h`=\u0021:]WMXlQ gH2vi,gs<(.PlY5,r( *pv[Pj9(x=I7vT:3yZ=x;PZHyJ2oudoq.z&j`xVDLn+nLO/,bi3)Kwus@e[IUB^g~#)uV5X_i3bI/veo_S>+I-%.].zp1#BOkgzp`,pm%R|mIKBTFA/~Al%4a2@-GOy 6HSQS%ov(P+~jlr{x,r]+ly2qGLEjj4NsuB7DkSh/\\"-\\"UnX\\"?G2gH0l(ZD?K[\\"wGo\\"x\\"\\"C;L\\"/o%\\">\\"dWus=}uIYZ;+(V`_U5MZ8%ret]<\u0021 /( Q?7&\u0021ubpMhZverQ,R7FMGj\\"A\\"[V>\\"x\\"6im_9D3HCn0/fF{HWI`qxe~lhhgPIMU(*(j3A\u0021C;5d0RsVaQpnRQG2%\u0021MN*GCZ1)\\"+Yu\\"*r}\\"B\\">c&f+wH=^=])01^6:(>L\u0021A~=nz:42lIGSzE XCtnC MhvvX:;?VyNoMmDU\\"w\\":~6\\"8\\"5\\"P;&\\"Me7\\"\u0021\\"\\"<\\"OpQ\\"y\\"z)][uL3IS VD-\\"]\\"wq=\\"HZ9^lOq;[3r\\"j:sw\\"3y.$Ya\\"\\"*\\"_,:\\"mt&sZ\\"mGkZ\\">\\"\\"l\\"8J\\"dm(t?)+z\\"lDA\\"5\\"X\\"-Zb\\"X;x\\"~e2iv:/o<K\\"g_K\\"~Le\\"2u4\\" \\"\\"C\\"1+z\\"v\\"=q/KL:k.{\\"WXS\\"eCa\\"Vg2r4_\\"{G:QK#T@%\\"@LA\\"5wh\\";=IH4=^\\"oCJP\\"1\\"7A)\\"?:oGc:h\\"6\\"HGC\\"UQm\\"[=:RADOzO9\u0021rrc\\"R$\\"tJN@8gp\\"oz;Cv|#{xN1@J0\\":4&\\",lw\\"1[7FR}bW\\"j[5\\"3:S+2C\\")8uD?>BC\\"T\\"0&V\\".\\"E/dq.\\"Uq8\\"Ucl\\"X\\"\\"b\\"xw\u0021\\""}';

// Read the input.js file (replace with your actual input.js path)
const fileContent = fs.readFileSync('./akamaiScript.js', 'utf-8');

// Decrypt the sensor data
const result = decryptor.decrypt(sensorData, fileContent);

if (result.success) {
    console.log('Decryption successful!');
    console.log('Decrypted data:', JSON.stringify(result.data, null, 2));
} else {
    console.error('Decryption failed:', result.message);
} 